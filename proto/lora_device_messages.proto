// This file listes the protobuffer messages used to communicate between equipotent devices over LoRa

syntax = "proto3";

import "shared/experiment_config.proto";

option csharp_namespace = "LoRa";

message LoRaMessage {
    bool IsMulticast = 1; 
    uint32 DeviceId = 2;
    uint32 CorrelationCode = 3;
    oneof Body {
        ForwardSequenceConfig sequenceConfig = 4;
        ForwardRadioConfigUpdate forwardRadioConfigUpdate = 5;
        ForwardExperimentCommand forwardExperimentCommand = 6; // Set role TX/RX, play/pause or switch to predefined experiment
        MeasurementStreamRequest measurementStreamRequest = 7;
        MeasurementStreamFragment measurementStreamFragment = 8;
        
        // Avoid if possible
        // bytes payload = 7;
    }
}
